@{
  // Get current controller and action to determine active state
  var currentController = ViewContext.RouteData.Values["controller"]?.ToString();
  var currentAction = ViewContext.RouteData.Values["action"]?.ToString();

  // Helper function to check if a link should be active
  string IsActive(string controller, string action) {
    return (currentController == controller && currentAction == action) ? "active" : "";
  }
}

@* Sidebar *@
<div class="sidebar" data-background-color="dark">
  <div class="sidebar-logo">
    @* Logo Header *@
    <div class="logo-header" data-background-color="dark">
      <a asp-controller="Admin" asp-action="Index" class="logo"> @* Use Tag Helper *@
        <img src="/images/icons/logo_light.svg" @* Use ~/ path *@
             alt="navbar brand"
             class="navbar-brand"
             height="20" />
      </a>
    </div>
    @* End Logo Header *@
  </div>
  <div class="sidebar-wrapper scrollbar scrollbar-inner">
    <div class="sidebar-content">
      <ul class="nav nav-secondary">
        @* Dashboard Item *@
        <li class="nav-item @IsActive("Admin", "Index")">
          <a asp-controller="Admin" asp-action="Index"> @* Use Tag Helper *@
            <i class="fa-solid fa-house"></i>
            <p>Dashboard</p>
          </a>
        </li>

        <li class="nav-item @IsActive("Admin", "Users")">
          <a asp-action="Users">
            <i class="fa-solid fa-users"></i>
            <span class="sub-item">Users</span>
          </a>
        </li>

        <li class="nav-item @IsActive("Admin", "Orders")">
          <a asp-action="Orders">
            <i class="fa-solid fa-clipboard"></i>
            <span class="sub-item">Orders</span>
          </a>
        </li>

        <li class="nav-item @IsActive("Admin", "Products")">
          <a asp-action="Products">
            <i class="fa-solid fa-layer-group"></i>
            <span class="sub-item">Products</span>
          </a>
        </li>

        <li class="nav-item @IsActive("Admin", "Brands")">
          <a asp-action="Brands">
            <i class="fa-solid fa-copyright"></i>
            <span class="sub-item">Brands</span>
          </a>
        </li>

        <li class="nav-item @IsActive("Admin", "Grades")">
          <a asp-action="Grades">
            <i class="fa-solid fa-maximize"></i>
            <span class="sub-item">Grade</span>
          </a>
        </li>

        <li class="nav-item @IsActive("Admin", "Categories")">
          <a asp-action="Categories">
            <i class="fa-solid fa-list"></i>
            <span class="sub-item">Categories</span>
          </a>
        </li>

        <li class="nav-item @IsActive("Admin", "Vouchers")">
          <a asp-action="Vouchers">
            <i class="fa-solid fa-ticket"></i>
            <span class="sub-item">Vouchers</span>
          </a>
        </li>
        
      </ul>
    </div>
  </div>
</div>
@* End Sidebar *@